{% extends "admin.template.html" %}

{% block title %}Kelola Mata Kuliah{% endblock %}

{% block content %}
<h2>Kelola Mata Kuliah</h2>
<a class="waves-effect waves-light btn rata-kanan modal-trigger" href="#modal-tambah-mata-kuliah">Tambah</a>
<!-- Modal Structure -->
<form method="POST" action="{{ urlFor('matakuliahcreate') }}" id="modal-tambah-mata-kuliah" onsubmit="alert('Mata Kuliah berhasil disimpan.');" class="modal">
	<div class="modal-content">
		<h4>Tambah Mata Kuliah</h4>
		<div class="col m12">
			<div class="row">
				<div class="input-field col m12">
					<input type="text" name="kodemk" class="validate" required/>
					<label for="nama_mata_kuliah">Kode MK</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col m12">
					<input type="text" name="nama" class="validate" required/>
					<label for="nama_mata_kuliah">Nama Mata Kuliah</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col m12">
					<input type="number" name="sks" class="validate" required/>
					<label for="website">Total SKS</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col m12">
					<input type="number" name="semester" class="validate" required/>
					<label for="website">semester</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col m12">
					<input type="text" name="prodi" class="validate" required/>
					<label for="website">Prodi</label>
				</div>
			</div>
			<!-- <div class="row">
				<div class="input-field col m12">
					<input type="text" class="validate">
					<label for="pernah_diajar_oleh">Pernah Diajar Oleh</label>
				</div>
			</div> -->
		</div>
	</div>
	<div class="modal-footer">
		<button type="submit" class=" modal-action waves-effect waves-green btn">Simpan</a>
	</div>
</form>
<ul id="daftar-mata-kuliah">
	{% for matakuliah in daftarMataKuliah %}
	<li>
		<div class=" card card card-panel grey lighten-5 waves-effect waves-light" href="#!">
			<div class="row no-bottom-space">
				<div class="col s12">
					<a href="#modal-hapus-mata-kuliah-{{matakuliah.kodemk}}" class="row rata-kanan hapus-profil-dosen modal-trigger"><i class="mdi-action-highlight-remove"></i></a>
				</div>
			</div>

			<div class="row valign-wrapper modal-trigger" href="#modal-ubah-mata-kuliah-{{matakuliah.kodemk}}">
				<div class="col s2">
					<img src="{{ BASE_URL }}/img/grey.jpg" alt="" class=" activator circle responsive-img"> <!-- notice the "circle" class -->
				</div>
				<div class="col s8">
					<span class="black-text">
						<h4>{{ matakuliah.nama }}</h4>
					</span>
					<p>The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.</p>
				</div>
				<div class="col s2">
					<span class="teal-text text-lighten-3 center-align">
						<h5>Semester</h5>
						<h1 style="line-height: 5px;"><strong>{{ matakuliah.semester }}</strong></h5>
						</span>
					</div>
				</div>
				<div class="row">
					<div class="col s12 m4 l2">
						<h6 class="black-text"><strong>Dosen Pengajar:</strong></h6>
					</div>
					<div class="col s12 m4 l8">
						<span class="black-text valign-wrapper">
		                {% for dosen in matakuliah.dosens.get %} 
		                  <a href="{{ urlFor('rinciandosen', {'id' : dosen.id}) }}" class="valign-wrapper rd-left">
		                    <img src="{{ BASE_URL }}/img/grey.jpg" alt="" class="circle rd-small-circle responsive-img"> 
		                    <h6 class="valign">{{ dosen.nama }}, </h6>
		                  </a>
		                {% endfor %}
					</div>
				</div>
			</div>
			<!-- Modal Structure -->
			<form method="POST" action="{{ urlFor('matakuliahupdate', {'kodemk' : matakuliah.kodemk}) }}" id="modal-ubah-mata-kuliah-{{matakuliah.kodemk}}" onsubmit="alert('Mata Kuliah berhasil diubah.');" class="modal">
				<div class="modal-content">
					<h4>Ubah Mata Kuliah</h4>
					<div class="col m12">
						<div class="row">
							<div class="input-field col m12">
								<input type="text" name="kodemk" value="{{matakuliah.kodemk}}" class="validate" required/>
								<label for="nama_mata_kuliah">Kode MK</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col m12">
								<input type="text" name="nama" value="{{matakuliah.nama}}"class="validate" required/>
								<label for="nama_mata_kuliah">Nama Mata Kuliah</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col m12">
								<input type="number" name="sks" value="{{matakuliah.sks}}" class="validate" required/>
								<label for="website">Total SKS</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col m12">
								<input type="number" name="semester" value="{{matakuliah.semester}}" class="validate" required/>
								<label for="website">semester</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col m12">
								<input type="text" name="prodi" value="{{matakuliah.prodi}}" class="validate" required/>
								<label for="website">Prodi</label>
							</div>
						</div>
						<!-- <div class="row">
							<div class="input-field col m12">
								<input type="text" class="validate">
								<label for="pernah_diajar_oleh">Pernah Diajar Oleh</label>
							</div>
						</div> -->
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class=" modal-action waves-effect waves-green btn">Simpan</a>
				</div>
			</form>
			<!-- Modal Structure -->
			<div id="modal-hapus-mata-kuliah-{{matakuliah.kodemk}}" class="modal">
				<div class="modal-content">
					<p>Hapus mata kuliah {{matakuliah.nama}}?</p>
				</div>
				<div class="modal-footer">
					<a href="#!" class="modal-action modal-close waves-effect waves-green btn">Tidak</a>
					<a href="{{ urlFor('matakuliahdelete', {'kodemk' : matakuliah.kodemk}) }}" class="modal-action waves-effect waves-green btn geser-kanan-dikit" onclick="alert('Mata Kuliah berhasil dihapus.');">Ya</a>
				</div>
			</div>
		</li>
		{% endfor %}
	</ul>
	{% endblock %}